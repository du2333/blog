---
trigger: always_on
---

# Rules 维护规范

当项目代码发生以下情况时，需要及时更新 `.agent/rules/` 目录下的相关文档：

## 触发条件

1.  **结构变更**: 新增、删除或重命名 `features/`、`lib/`、`routes/` 等核心目录或模块。
2.  **技术栈更新**: 引入新的依赖库、替换现有框架或升级 Cloudflare 服务绑定。
3.  **模式演进**: 出现新的编码模式或最佳实践（如新的数据获取方式、新的缓存策略）。
4.  **工具链调整**: 构建脚本、部署流程或核心配置文件发生变化。

## 更新范围

| 变更类型                | 目标文件              |
| :---------------------- | :-------------------- |
| 技术栈 / 基础设施变更   | `project-overview.md` |
| 新增编码模式 / 最佳实践 | `pattern.md`          |
| 核心结构调整            | `project-overview.md` |

## 执行原则

- **及时性**: 在完成代码变更后立即更新对应文档。
- **准确性**: 确保文档描述与代码实现完全一致。
- **简洁性**: 遵循干练、程序员严谨的风格，避免冗余描述。